<!DOCTYPE html>
<html>
<title>W3.CSS Template</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script type="text/javascript" src="http://latex.codecogs.com/latexit.js"></script>
<link rel="stylesheet" href="{{ url_for('static', filename = 'css/main.css') }}">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type = "text/javascript"  src="{{ url_for('static', filename = 'js/js-Normalization.js') }}" ></script>
<style>


</style>
<body>
<div id="container">

<!-- Navbar (sit on top) -->
{% include "incs/navigation.html" %}

<div id="body">
  <div class="w3-container" style="padding:128px 16px">
    <div class="w3-row">

        <div class="w3-col l3 m12 w3-padding">
          <a href="{{ url_for('gradient_descent') }}" style="text-decoration:none;"><div class="w3-card w3-cyan w3-btn" style="display:block">
              <div class="w3-xlarge w3-padding-32 w3-center">
                  Gradient Descent
              </div>
          </div></a>
        </div>

        <div class="w3-col l3 m12 w3-padding">
          <a href="{{ url_for('normalization') }}" style="text-decoration:none;"><div class="w3-card w3-green w3-btn" style="display:block">
              <div class="w3-xlarge w3-padding-32 w3-center">
                  Normalization
              </div>
          </div></a>
        </div>

        <div class="w3-col l6 m12 w3-padding">
          <a href="#" style="text-decoration:none;"><div class="w3-card w3-red w3-btn" style="display:block">
              <div class="w3-xlarge w3-padding-32 w3-center">
                  As I learn more Machine Learning, I'll post more stuff ...
              </div>
          </div></a>
        </div>

    </div>
  </div>


<!-- THIS IS WHERE THE MIAN BODY GOES-->
<div class="w3-container">
  <div class="w3-row" style="margin-top:-50px;">
    <p style="font-size:18px;">This is a simple linear regression model. Type in your inputs (X) and your outputs (Y), then click on run.<br></p>
  </div>
  <div class="w3-row" style="padding-bottom:30px;">

    <div class="w3-col l6 m12" style="height:430px; border-right:1px solid #CCCCCC;">
      <div class="w3-padding">
        <canvas id="myChart" style="width:100%; max-height:400px;"></canvas>
      </div>
    </div>

    <div class="w3-col l6 m12">

        <div class="w3-row w3-padding">
          <div class="w3-col l4 m4 w3-padding">
            <label class="w3-text">X values</label>
          </div>
          <div class="w3-col l8 m8">
            <input type="text" name="X" value="0, 1, 2, 3, 4, 5" class="w3-input" id="X-values" placeholder="Please input your x values, seperated by commas">
          </div>
        </div>

        <div class="w3-row w3-padding">
          <div class="w3-col l4 m4 w3-padding">
            <label class="w3-text">Y values</label>
          </div>
          <div class="w3-col l8 m8">
            <input type="text" name="Y" value="4, 7, 10, 13, 16, 19" class="w3-input" id="Y-values" placeholder="Please input your x values, seperated by commas">
          </div>
        </div>

        <div class="w3-row w3-padding">
          <div class="w3-col l4 m4 w3-padding">
            <label class="w3-text">Current f(x)</label>
          </div>
          <div class="w3-col l8 m8 w3-padding">
            f(x) = <div id="w0" style="display:inline-block;">0</div>&nbsp;&nbsp;+&nbsp;&nbsp;
            <div id="w1" style="display:inline-block;">0</div>x
          </div>
        </div>

        <div class="w3-row w3-padding">
          <div class="w3-col l4 m4 w3-padding">
            <label class="w3-text">Error function value</label>
          </div>
          <div class="w3-col l8 m8 w3-padding">
            <div id="error" style="display:inline-block;">0</div>
          </div>
        </div>

        <div class="w3-row w3-padding">
          <div class="w3-col l4 m4">
            <div style="padding-right:5px;">
              <div id="run" class="w3-btn" style="width:100%; background-color:#1A85FF">Run</div>
            </div>
          </div>
          <div class="w3-col l4 m4">
            <div style="padding-right:5px;">
              <div id="reset" class="w3-btn w3-red" style="width:100%;">Reset</div>
            </div>
          </div>
        </div>

    </div>

  </div>

  <div>
  <div class="w3-row">

    <div class="w3-col l12 m12 w3-xxlarge w3-center" style="background-color:#CCCCCC; border-color:grey;">
      The code
    </div>
  </div>
  <div class="w3-row">
    <div class="w3-col l12 m12">
      {% include "code/code_normalization.html" %}
    </div>
  </div>
  <div class="w3-row w3-content">
    <div class="w3-col l12 m12" style="font-size:16px;">
      <p>In the default example above, we have a set of inputs and outputs</p>
      <div class="w3-center">
        <p lang=latex>
          (0, 4),\,(1, 7),\,(2, 10),\,(3, 13),\,(4, 16),\,(5, 19)
        </p>
      </div>
      <p>We can denote this as</p>
      <div class="w3-center">
        <p lang="latex">
          (x_1, y_1),\,(x_2, y_2),\,(x_3, y_3),\,(x_4, y_4),\,(x_5, y_5),\,(x_6, y_6)
        </p>
      </div>
      <p>
        For <span class="up2" lang=latex>x_1\,\epsilon\,\mathds{R},\, i=1, ..., n</span>. In this case, <span lang=latex class="up5"> n = 6</span>.
      </p>
      <p>In this regression model we assume that there will be a linear relaitonship between the inputs, <span class="up2" lang="latex">x_i</span>, and outputs, <span class="up1" lang="latex">y_i</span>.
        Meaning <span class="up5" lang=latex>x</span> and <span lang=latex>y</span> will have a straight line relationship.</p>
      <p>We know form school (hopefully) that  astraight line has the equation <span lang="latex">y = mx+c</span>. So we can say that the linear relationship is modelled by
        <span lang="latex">f(x) = w_0 + w_1x_{i,1}</span>
        Here, <span class="up2" lang=latex>w_0</span> and  <span class="up2" lang=latex>w_1</span> are the <span style="font-weight:900;">weights (parameters)</span> of our <span style="font-weight:900;">hypothesis</span>,  <span class="up2" lang=latex>f(x)</span>.
      </p>
      <p>The weights are what we iterate over and change, so our straight line fits the data better. So it doesn't really matter what we set the inital weights to. In this example, we'll set the weights to </p>
      <div class="w3-center">
        <p lang=latex>
          w =
        \begin{pmatrix}
          w_0\\
          w_1
        \end{pmatrix}
        =
        \begin{pmatrix}
          0\\
          0
        \end{pmatrix}
        </p>
      </div>
      <p>We can clean up our hypthesis by adding a bias term <span lang=latex class="up2">x_0</span> which equals <span class="up4" lang=latex>1</span>.</p>
      <div class="w3-center">
        <p lang=latex>f(x) = w_0x_{i,0} + w_1x_{i,1}</p>
      </div>
      <p>This can now be written in vector form</p>
      <div class="w3-center">
        <p lang=latex>
          \begin{pmatrix}
            x_{1,0} & x_{1,1} \\
            x_{2,0} & x_{2,1} \\
            x_{3,0} & x_{3,1} \\
            x_{4,0} & x_{4,1} \\
            x_{5,0} & x_{5,1} \\
            x_{6,0} & x_{6,1}
          \end{pmatrix}
          \begin{pmatrix}
            w_{0} \\
            w_{1}
          \end{pmatrix}
          =
          \begin{pmatrix}
            w_0x_{1,0} + w_1x_{1,1} \\
            w_0x_{2,0} + w_1x_{2,1} \\
            w_0x_{3,0} + w_1x_{3,1} \\
            w_0x_{4,0} + w_1x_{4,1} \\
            w_0x_{5,0} + w_1x_{5,1} \\
            w_0x_{6,0} + w_1x_{6,1}
          \end{pmatrix}
          \newline
        </p>
      </div>
      <div class="w3-center">
        <p lang=latex>
          f(x) = Xw
        </p>
      </div>
      <p>In our example, this becomes </p>
      <div class="w3-center">
        <p lang=latex>
          \begin{pmatrix}
            1 & 0 \\
            1 & 1 \\
            1 & 2 \\
            1 & 3 \\
            1 & 4 \\
            1 & 5
          \end{pmatrix}
          \begin{pmatrix}
            0 \\
            0
          \end{pmatrix}
          =
          \begin{pmatrix}
            0 \\
            0 \\
            0 \\
            0 \\
            0 \\
            0
          \end{pmatrix}
        </p>
      </div>

      <div class="w3-center w3-xxlarge">
        <p>The error function</p>
      </div>
      <p>As you can see from the matrix above, the current output from our hypothesis function is terrible. Our line, with our current weights, is bad. But how bad? </p>
      <p>We need to define an error function to measure how well our line fits the data. We'd ideally like to tweak our weights to give us the lowest error possible. The lower the value, the better the fit. In this model, we are using the least squarres error as an error function.</p>
      <div class="w3-center">
        <p lang=latex>
          E(f(x), y) = \frac{1}{2}\sum_{i = 1}^{n}{(f(x_i)-y_i)^2}
        </p>
      </div>
      <div class="w3-center">
        <p lang="latex">
          \frac{1}{2}
          \left\lVert
          \begin{pmatrix}
            w_0x_{1,0} + w_1x_{1,1} \\
            w_0x_{2,0} + w_1x_{2,1} \\
            w_0x_{3,0} + w_1x_{3,1} \\
            w_0x_{4,0} + w_1x_{4,1} \\
            w_0x_{5,0} + w_1x_{5,1} \\
            w_0x_{6,0} + w_1x_{6,1}
          \end{pmatrix}
          -
          \begin{pmatrix}
            y_1 \\
            y_2 \\
            y_3 \\
            y_4 \\
            y_5 \\
            y_6
          \end{pmatrix}
          \right\rVert^2
        </p>
      </div>
      <div class="w3-center">
        <p lang="latex">
          \frac{1}{2}
          \left\lVert
          Xw - y
          \right\rVert^2
        </p>
      </div>
      <p>The error function squares the difference of what our current hypothesis computes, <span lang=latex>f(X)</span> and the <span lang=latex>y</span> values. These sum of these values are then taken, and multiplied by a half (the half is put in as when differentiating the error function, it cancels out nicely with the square).</p>
      <p>For our example, this would be</p>
      <div class="w3-center">
        <p lang="latex">
          \frac{1}{2}
          \left\lVert
          \begin{pmatrix}
            0 \\
            0 \\
            0 \\
            0 \\
            0 \\
            0
          \end{pmatrix}
          -
          \begin{pmatrix}
            4 \\
            7 \\
            10 \\
            13 \\
            16 \\
            19
          \end{pmatrix}
          \right\rVert^2
          =
          \frac{1}{2}(951) = 475.5
        </p>
      </div>
      <p>We now have a way of measuring how well our hypothesis is doing, based upon our current choice of weights. We could tweak the weights individually ourselves, but fortunately we have an algorithm that can do it for us.</p>

      <div class="w3-center w3-xxlarge">
        <p>Gradient descent</p>
      </div>
      This is the equation we're trying to optimize:
      <div class="w3-center">
        <p lang="latex">
          \underset{w}{argmin}\left(\frac{1}{2}\sum_{i = 1}^{n}{(f_w(x_i)-y_i)^2}\right)
        </p>
      </div>
      <p>We are altering the <span lang="latex" class="up5">w</span> argument to try and obtain the minimum value from the error function (the stuff inside the brackets).</p>
      <p>We've seen above that the error function can be written in vector form, so now all we're trying to optimize, is</p>
      <div class="w3-center">
          <p lang="latex">\frac{1}{2}\left\lVert  Xw - y \right\rVert^2</p>
      </div>
      <p></p>


    </div>
  </div>
  </div>












</div>
<!-- Footer -->
<div id="footer">
  <div class="w3-center w3-black w3-padding">
    <div class="w3-medium w3-section">
      Made by Khalil Zaman
    </div>
  </div>
</div>


</div>

<script>

// Toggle between showing and hiding the sidebar when clicking the menu icon
var mySidebar = document.getElementById("mySidebar");

function w3_open() {
    if (mySidebar.style.display === 'block') {
        mySidebar.style.display = 'none';
    } else {
        mySidebar.style.display = 'block';
    }
}

// Close the sidebar with the close button
function w3_close() {
    mySidebar.style.display = "none";
}
</script>

</body>
</html>
